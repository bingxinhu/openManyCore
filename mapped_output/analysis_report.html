<!DOCTYPE html>
<html>
<head>
    <title>自动化映射分析报告</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        .section { margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        h1, h2, h3 { color: #333; }
        table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #f5f5f5; font-weight: bold; }
        .metric { display: inline-block; margin: 10px; padding: 15px; background: #f9f9f9; border-radius: 5px; min-width: 200px; }
        .metric-value { font-size: 24px; font-weight: bold; color: #2196F3; }
        .metric-label { font-size: 14px; color: #666; }
        .good { color: #4CAF50; }
        .warning { color: #FF9800; }
        .bad { color: #F44336; }
        .summary { background-color: #f0f8ff; padding: 20px; border-radius: 5px; }
        .timestamp { color: #888; font-size: 14px; text-align: right; }
    </style>
</head>
<body>
    <div class="timestamp">生成时间: 2026-01-22 09:30:32</div>
    <h1>自动化映射分析报告</h1>
    
    <div class="section summary">
        <h2>执行摘要</h2>
        <div class="metric">
            <div class="metric-value">12</div>
            <div class="metric-label">算子数量</div>
        </div>
        <div class="metric">
            <div class="metric-value">241.1 KB</div>
            <div class="metric-label">参数大小</div>
        </div>
        <div class="metric">
            <div class="metric-value">12</div>
            <div class="metric-label">阶段数量</div>
        </div>
        <div class="metric">
            <div class="metric-value">118,958</div>
            <div class="metric-label">总时钟周期</div>
        </div>
        <div class="metric">
            <div class="metric-value">594.8 ms</div>
            <div class="metric-label">估计延迟</div>
        </div>
    </div>
    
    <div class="section">
        <h2>性能指标</h2>
        <table>
            <tr>
                <th>指标</th>
                <th>值</th>
                <th>说明</th>
            </tr>
            <tr>
                <td>总MAC操作</td>
                <td>118,214</td>
                <td>模型总计算量</td>
            </tr>
            <tr>
                <td>MAC/周期</td>
                <td>0.99</td>
                <td>每时钟周期MAC操作数</td>
            </tr>
            <tr>
                <td>硬件利用率</td>
                <td>0.2%</td>
                <td>计算单元利用率</td>
            </tr>
        </table>
    </div>
    
    <div class="section">
        <h2>内存分配</h2>
        <table>
            <tr>
                <th>内存区域</th>
                <th>总大小</th>
                <th>已使用</th>
                <th>剩余</th>
                <th>使用率</th>
                <th>基地址</th>
            </tr>

            <tr>
                <td>mem0</td>
                <td>65,536 B</td>
                <td>40,816 B</td>
                <td>24,720 B</td>
                <td class="warning">62.3%</td>
                <td>0x0000</td>
            </tr>
            <tr>
                <td>mem1</td>
                <td>65,536 B</td>
                <td>54,912 B</td>
                <td>10,624 B</td>
                <td class="bad">83.8%</td>
                <td>0x4000</td>
            </tr>
            <tr>
                <td>mem2</td>
                <td>16,384 B</td>
                <td>0 B</td>
                <td>16,384 B</td>
                <td class="good">0.0%</td>
                <td>0x8000</td>
            </tr>
            <tr>
                <td>mem3</td>
                <td>16 B</td>
                <td>0 B</td>
                <td>16 B</td>
                <td class="good">0.0%</td>
                <td>0x9000</td>
            </tr>
        </table>
    </div>
    
    <div class="section">
        <h2>硬件配置</h2>
        <table>
            <tr>
                <th>配置项</th>
                <th>值</th>
            </tr>

            <tr>
                <td>mem0_size</td>
                <td>65536</td>
            </tr>
            <tr>
                <td>mem1_size</td>
                <td>65536</td>
            </tr>
            <tr>
                <td>mem2_size</td>
                <td>16384</td>
            </tr>
            <tr>
                <td>mem3_size</td>
                <td>16</td>
            </tr>
            <tr>
                <td>core_grid</td>
                <td>[8, 1]</td>
            </tr>
            <tr>
                <td>core_mem_banks</td>
                <td>4</td>
            </tr>
            <tr>
                <td>mac_units_per_core</td>
                <td>64</td>
            </tr>
            <tr>
                <td>vector_width</td>
                <td>16</td>
            </tr>
            <tr>
                <td>router_channels</td>
                <td>8</td>
            </tr>
            <tr>
                <td>max_packet_size</td>
                <td>1024</td>
            </tr>
            <tr>
                <td>total_cores</td>
                <td>8</td>
            </tr>
        </table>
    </div>
    
    <div class="section">
        <h2>核心分配</h2>
        <table>
            <tr>
                <th>组</th>
                <th>核心数量</th>
                <th>描述</th>
            </tr>
            <tr>
                <td>Group0 (FPGA)</td>
                <td>{report['config_summary']['g0_cores']}</td>
                <td>数据输入输出</td>
            </tr>
            <tr>
                <td>Group1 (计算)</td>
                <td>{report['config_summary']['g1_cores']}</td>
                <td>神经网络计算</td>
            </tr>
            <tr>
                <td>Group2 (路由)</td>
                <td>{report['config_summary']['g2_cores']}</td>
                <td>数据路由和通信</td>
            </tr>
        </table>
    </div>
    
    <div class="section">
        <h2>建议和优化</h2>
        <ul>
            <li><strong>内存优化:</strong> 当前内存使用率正常，可以考虑进一步优化数据布局</li>
            <li><strong>性能优化:</strong> 硬件利用率有待提高，可以考虑算子融合或流水线优化</li>
            <li><strong>功耗优化:</strong> 可以根据实际部署场景调整时钟频率</li>
            <li><strong>面积优化:</strong> 对于资源受限场景，可以考虑减少计算核心数量</li>
        </ul>
    </div>
    
    <div class="timestamp">
        报告生成完成 - 自动化映射系统
    </div>
</body>
</html>